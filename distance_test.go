package keyva

import . "gopkg.in/check.v1"

var distanceValues = KeySlice{
	{Id: 0, Key: MustHash("0000000000000000000000000000000000000000000000000000000000099999")},
	{Id: 0, Key: MustHash("3DC9EB68A94B5F0995B3EA787AA04E3E4ECA57B6961465C35C4BE570F852D679")},
	{Id: 1, Key: MustHash("3F1A59CAF888D8B8DD8B73D0D2B3BB680600DDBB0586F8604CB5904CCA1643EA")},
	{Id: 2, Key: MustHash("70B0DABDACA0B64F57B1F1AC253D984EC6ED401C9F61274715E6A9682A257A11")},
	{Id: 3, Key: MustHash("717DDA8005C66CDFEF320AE3C4D6474A0885BDF5FA897D9A833DB461A8660B4D")},
	{Id: 4, Key: MustHash("71D114346B3636C05AC4DA579C8FD678071F44893B4B0EEABC7A0292EC2C092F")},
	{Id: 5, Key: MustHash("749CFF10950510098E79A4C6A2440DFF383D6F44447019C20073C88B6140234F")},
	{Id: 6, Key: MustHash("874ECDB5FCC34FA491D715265F17D971E99AE5FD6B8C5AC72D10B3DE231D3FBC")},
	{Id: 7, Key: MustHash("8FDFB573192026FF19A88541F82E801AB0BDC18E01A67FD4AB97B8A80170D268")},
	{Id: 8, Key: MustHash("DE8BC48385CD2EB9B02DFA65870DFC667F3E16C60C910327966350E6E4B9579B")},
	{Id: 9, Key: MustHash("F268B2B5DA46C6CAB2C03DBDB63FF56B8CB5249196E9125A84F350357FD12BB1")},
}

func (s *KeyVaSuite) TestDistance(c *C) {
	n := &Node{
		Id:    0,
		Start: FirstHash,
		End:   LastHash,
	}
	dist := NewDistanceMap(n)
	dist.AddValues(distanceValues)
	c.Log(n)
	c.Log(dist)
	c.Assert(dist.Len(), Equals, 5)
	c.Assert(dist.SanityCheck(), Equals, true)
}
